/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.3/samples
 */
task buildDebFile(type: Exec, dependsOn: [':setVersion']) {
    group = 'build'
    workingDir "$projectDir/deb-file-creation"
    commandLine './create-deb.sh'
}
task setVersion(type: Exec) {
    group = 'build'
    description = 'Sets the version.txt file with the current version from git describe'
    workingDir "$projectDir/deb-file-creation"
    executable "sh"
    args = ['-c', 'git describe --tags --dirty | tr -d \'\\n\' > version.txt']
}
